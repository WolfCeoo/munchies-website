<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Munchies - Full of Taste | Soshanguve Street Food</title>
  <meta name="description" content="Hyper-local kota, burgers & platters delivery in Soshanguve. Fast, fresh, full of taste!">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            munchies: {
              green: '#22c55e',
              orange: '#f97316',
              yellow: '#fbbf24',
            }
          }
        }
      }
    }
  </script>
  <!-- Airtable SDK CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/airtable/0.11.6/airtable.min.js"></script>

<script>
  // === CONFIG - REPLACE THESE ===
  const AIRTABLE_TOKEN = 'patdfiQ8AuEMlV9Sp.0d6e9d216168530d137faf5eb4dd7ae0c288d78bdbe0dff580d01e72398ffc30E';  // ← Paste your NEW read-only token
  const BASE_ID = 'appdqBZtxDVSZmG0Z';             // Your base ID
  const TABLE_NAME = 'Menu Items';                 // Confirm exact name (from Airtable); might be "Menu Items" or similar

  // Initialize Airtable
  const Airtable = window.Airtable;
  Airtable.configure({ apiKey: AIRTABLE_TOKEN });
  const base = Airtable.base(BASE_ID);

  // Function to fetch and display menu items grouped by vendor
  async function loadVendorMenus() {
    try {
      const records = await base(TABLE_NAME).select({
        view: 'Grid view',  // Or change to your preferred view name if needed
        // Optional: fields: ['Item Name Name', 'Vendor'] if you want to limit columns
      }).all();

      // Group items by Vendor (assuming "Vendor" is a linked field returning array or string)
      const vendorGroups = {};
      records.forEach(record => {
        const vendorField = record.get('Vendor');  // Adjust field name if different (e.g. 'Vendor' or 'VENDOR')
        const vendorName = Array.isArray(vendorField) ? vendorField[0] : vendorField; // Handle linked record (often array)

        if (vendorName) {
          if (!vendorGroups[vendorName]) {
            vendorGroups[vendorName] = [];
          }
          vendorGroups[vendorName].push(record.get('Item Name')); // Adjust to your exact "Item Name" field name
        }
      });

      // Now inject into the DOM - find each vendor card by matching h3 text
      const vendorCards = document.querySelectorAll('.grid > a'); // Targets your <a> vendor cards
      vendorCards.forEach(card => {
        const vendorTitle = card.querySelector('h3').textContent.trim();
        if (vendorGroups[vendorTitle]) {
          const items = vendorGroups[vendorTitle];
          const ul = document.createElement('ul');
          ul.className = 'mt-4 space-y-1 text-sm text-gray-600 dark:text-gray-400';
          items.forEach(item => {
            const li = document.createElement('li');
            li.textContent = `• ${item}`;
            ul.appendChild(li);
          });
          // Insert after the existing ul or at the end of card content
          const existingUl = card.querySelector('ul');
          if (existingUl) {
            existingUl.after(ul);
          } else {
            card.querySelector('div.p-5').appendChild(ul);
          }
          // Optional label
          const label = document.createElement('p');
          label.className = 'mt-3 text-xs text-munchies-green font-semibold';
          label.textContent = 'Live items from Airtable:';
          card.querySelector('div.p-5').appendChild(label);
        }
      });

      console.log('Menu data loaded successfully!');
    } catch (err) {
      console.error('Error fetching Airtable data:', err);
      // Optional: show a fallback message on page
    }
  }

  // Run on page load
  window.addEventListener('load', loadVendorMenus);
</script>

  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gradient-to-b from-munchies-green/10 to-white dark:from-munchies-green/20 dark:to-gray-950 dark:text-gray-100 min-h-screen font-sans">

  <!-- Header / Hero -->
  <header class="px-4 py-12 text-center">
   <img src="assets/munchies-logo.jpg" alt="Munchies Logo" class="mx-auto h-32 w-auto mb-4">
    <h1 class="text-5xl md:text-7xl font-black tracking-tight text-munchies-green">MUNCHIES</h1>
    <p class="mt-2 text-2xl font-bold text-munchies-green">FULL OF TASTE</p>
    <p class="mt-6 text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-2xl mx-auto">
      Authentic food delivered fast around Soshanguve — Kota, Burgers, Platters & more!
      S'katjeno!
    </p>

   <a href="https://forms.fillout.com/t/9Sp16Jm6SCus" target="_blank"
   class="mt-10 inline-block bg-munchies-green hover:bg-munchies-green/80 text-white text-xl font-bold px-10 py-6 rounded-xl shadow-lg transition transform hover:scale-105">
  ORDER NOW →
</a>
  </header>

  <!-- Menu Section -->
  <!-- Vendors Section -->
<section class="px-4 py-12 max-w-5xl mx-auto">
  <h2 class="text-4xl font-bold text-center mb-10 text-munchies-green">Our Vendors</h2>
  <p class="text-center text-lg text-gray-700 dark:text-gray-300 mb-12 max-w-3xl mx-auto">
    Munchies partners with the best local vendors in Soshanguve to deliver fresh, authentic street food straight to you.  
    Tap any vendor below to jump to our order form — it shows only what's in stock right now!
  </p>
  
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    <!-- Vendor 1: Soshanguve Sizzle -->
    <a href="https://forms.fillout.com/t/9Sp16Jm6SCus?prefill_vendor=Soshanguve+Sizzle" 
       class="block bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-[1.02] border-t-4 border-munchies-green">
      <img src="https://www.sandwichtribunal.com/wp-content/uploads/2022/08/IMG_6502.jpg" 
           alt="Soshanguve Sizzle - Signature Kota & More" 
           class="w-full h-48 object-cover">
      <div class="p-5">
        <h3 class="text-2xl font-bold text-munchies-orange">Soshanguve Sizzle</h3>
        <p class="text-sm font-semibold text-munchies-green mt-2">✨ Taking Orders</p>
        <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-300 text-sm">
          <li>• Signature Burger</li>
          <li>• Pap & Steak</li>
          <li>• Chicken Stew</li>
        </ul>
        <p class="mt-6 text-center text-munchies-green font-bold">Tap to Order →</p>
      </div>
    </a>

    <!-- Vendor 2: The Block H Grill -->
    <a href="https://forms.fillout.com/t/9Sp16Jm6SCus?prefill_vendor=The+Block+H+Grill" 
       class="block bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-[1.02] border-t-4 border-munchies-green">
      <img src="https://wanderer.capetown/wp-content/uploads/2024/05/Screen-Shot-2014-11-25-at-15.05.41.png" 
           alt="The Block H Grill - Chicken & Stews" 
           class="w-full h-48 object-cover">
      <div class="p-5">
        <h3 class="text-2xl font-bold text-munchies-orange">The Block H Grill</h3>
        <p class="text-sm font-semibold text-munchies-green mt-2">✨ Taking Orders</p>
        <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-300 text-sm">
          <li>• Quarter Chicken</li>
          <li>• Beef Stew</li>
        </ul>
        <p class="mt-6 text-center text-munchies-green font-bold">Tap to Order →</p>
      </div>
    </a>

    <!-- Vendor 3: Kasi Flavour -->
    <a href="https://forms.fillout.com/t/9Sp16Jm6SCus?prefill_vendor=Kasi+Flavour" 
       class="block bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-[1.02] border-t-4 border-munchies-green">
      <img src="https://thumbs.dreamstime.com/b/kota-basic-south-african-popular-inexpensive-township-street-food-image-copy-space-landscape-format-kota-traditional-127495475.jpg" 
           alt="Kasi Flavour - Kota Specialties" 
           class="w-full h-48 object-cover">
      <div class="p-5">
        <h3 class="text-2xl font-bold text-munchies-orange">Kasi Flavour</h3>
        <p class="text-sm font-semibold text-munchies-green mt-2">✨ Taking Orders</p>
        <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-300 text-sm">
          <li>• Kasi Kota</li>
          <li>• Chicken Dust</li>
        </ul>
        <p class="mt-6 text-center text-munchies-green font-bold">Tap to Order →</p>
      </div>
    </a>

    <!-- Vendor 4: Di Pitseng -->
    <a href="https://forms.fillout.com/t/9Sp16Jm6SCus?prefill_vendor=Di+Pitseng" 
       class="block bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-[1.02] border-t-4 border-munchies-green">
      <img src="https://www.sandwichtribunal.com/wp-content/uploads/2022/08/IMG_6493.jpg" 
           alt="Di Pitseng - Local Stews & Grills" 
           class="w-full h-48 object-cover">
      <div class="p-5">
        <h3 class="text-2xl font-bold text-munchies-orange">Di Pitseng</h3>
        <p class="text-sm font-semibold text-munchies-green mt-2">✨ Taking Orders</p>
        <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-300 text-sm">
          <li>• Chicken Stew</li>
        </ul>
        <p class="mt-6 text-center text-munchies-green font-bold">Tap to Order →</p>
      </div>
    </a>

    <!-- Vendor 5: Kwasa Grill -->
    <a href="https://forms.fillout.com/t/9Sp16Jm6SCus?prefill_vendor=Kwasa+Grill" 
       class="block bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition transform hover:scale-[1.02] border-t-4 border-munchies-green">
      <img src="https://www.tasteatlas.com/images/dishes/a3e55cb5266c46cea7ca0d3f52ef78bc.jpg" 
           alt="Kwasa Grill - Mogodu & More" 
           class="w-full h-48 object-cover">
      <div class="p-5">
        <h3 class="text-2xl font-bold text-munchies-orange">Kwasa Grill</h3>
        <p class="text-sm font-semibold text-munchies-green mt-2">✨ Taking Orders • High Demand</p>
        <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-300 text-sm">
          <li>• Chicken Dust</li>
          <li>• Mogodu</li>
        </ul>
        <p class="mt-6 text-center text-munchies-green font-bold">Tap to Order →</p>
      </div>
    </a>
  </div>

  <div class="text-center mt-12">
    <p class="text-xl font-semibold mb-6 text-munchies-green">Pick your spot and let's get those munchies delivered!</p>
    <a href="https://forms.fillout.com/t/9Sp16Jm6SCus" target="_blank" 
       class="inline-block bg-munchies-green hover:bg-green-600 text-white text-xl font-bold px-10 py-6 rounded-xl shadow-lg transition transform hover:scale-105">
      ORDER NOW →
    </a>
  </div>
</section>


  <!-- Order Tracking Callout -->
  <section class="px-4 py-16 bg-munchies-green/10 dark:bg-munchies-green/20 text-center">
    <h2 class="text-3xl font-bold mb-6">Track Your Order</h2>
    <p class="text-lg mb-8 max-w-xl mx-auto">See where your munchies are — from received to delivered!</p>
    <a href="order-status.html" 
       class="inline-block border-2 border-munchies-orange text-munchies-orange hover:bg-munchies-orange hover:text-white font-bold px-8 py-4 rounded-xl transition">
      View Order Status →
    </a>
  </section>

  <!-- Footer -->
  <footer class="px-4 py-8 text-center text-gray-600 dark:text-gray-400">
    <p>© 2026 Munchies Soshanguve • Hyper-local & full of taste</p>
  </footer>

</body>
</html>